clear;
names = {
'20151012_190021'; '20151012_190522'; '20151012_191023'; '20151012_191525';
'20151012_192026'; '20151012_192527'; '20151012_193029'; '20151012_193530';
'20151012_194032'; '20151012_194533'; '20151012_195034'; '20151012_195536';
'20151012_200037'; '20151012_200538'; '20151012_201039'; '20151012_201541';
'20151012_202042'; '20151012_202544'; '20151012_203045'; '20151012_203546';
'20151012_204047'; '20151012_204549'; '20151012_205050'; '20151012_205552';
'20151012_210053'; '20151012_210555'; '20151012_211056'; '20151012_211557';
'20151012_212058'; '20151012_212559'; '20151012_213101'; '20151012_213602';
'20151012_214103'; '20151012_214605'; '20151012_215106'; '20151012_215607';
'20151012_220109'; '20151012_220610'; '20151012_221111'; '20151012_221613';
'20151012_222114'; '20151012_222615'; '20151012_223117'; '20151012_223618';
'20151012_224119'; '20151012_224621'; '20151012_225122'; '20151012_225623';
'20151012_230124'; '20151012_230626'; '20151012_231127'; '20151012_231629';
'20151012_232130'; '20151012_232631'; '20151012_233132'; '20151012_233634';
'20151012_234135'; '20151012_234636'; '20151012_235137'; '20151012_235639';
'20151013_000140'; '20151013_000642'; '20151013_001143'; '20151013_001644';
'20151013_002145'; '20151013_002647'; '20151013_003148'; '20151013_003649';
'20151013_004151'; '20151013_004652'; '20151013_005153'; '20151013_005655';
'20151013_010156'; '20151013_010657'; '20151013_011159'; '20151013_011700';
'20151013_012201'; '20151013_012702'; '20151013_013204'; '20151013_013705';
'20151013_014206'; '20151013_014708'; '20151013_015209'; '20151013_015710';
'20151013_020211'; '20151013_020712'; '20151013_021715'; '20151013_022216';
'20151013_022718'; '20151013_023219'; '20151013_023721'; '20151013_024222';
'20151013_024723'; '20151013_025224'; '20151013_030227'; '20151013_031230';
'20151013_031731'; '20151013_032232'; '20151013_033235'; '20151013_034238';
'20151013_035241'; '20151013_040745'; '20151013_041246'; '20151013_041748';
'20151013_042249'; '20151013_043753'; '20151013_044255'; '20151013_044756';
'20151013_045257'; '20151013_045759'; '20151013_050300'; '20151013_050801';
'20151013_051303'; '20151013_051804'; '20151013_052305'; '20151013_052806';
'20151013_053308'; '20151013_053809'; '20151013_054310'; '20151013_054811'};
% base_path = 'E:/sleepAnalyze/autoCamera20151012_13/wb_9_23_0.25_auto/';
base_path = 'E:\sleepAnalyze\autoCamera20151012_13\male\wb_9_23_0.25_auto\';
full_name = sprintf('%s%s.png', base_path, char(names(1)));
all = imread(full_name);
for i=1:89
% for i=2:3
    full_name = sprintf('%s%s.png', base_path, char(names(i)));
    img = imread(full_name);
    all = all | img;
end
imwrite(all, 'E:\sleepAnalyze\autoCamera20151012_13\male/allwb.png', 'png');
regions = regionprops(all)
imshow(all);

% img = imread('E:/sleepAnalyze/autoCamera20151012_13/templet87.png');
% th = graythresh(img)
% wb = im2bw(img, th);
% imwrite(wb, 'E:/sleepAnalyze/autoCamera20151012_13/templet87_wb.png', 'png');
% regions = regionprops(wb)
% imshow(wb);





